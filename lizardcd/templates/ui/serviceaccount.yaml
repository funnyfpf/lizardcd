{{- if and (include "lizardcd.ui.enabled" .) .Values.ui.serviceAccount.create -}}
{{- $fullName := include "lizardcd.ui.fullname" . -}}
apiVersion: v1
kind: ServiceAccount
automountServiceAccountToken: true
metadata:
  name: "{{- include "lizardcd.ui.serviceAccountName" . }}"
  {{- if .Values.ui.serviceAccount.annotations -}}
  annotations:
    {{- include "common.tplvalues.render" (dict "values" .Values.ui.serviceAccount.annotations "context" $) | nindent 4 -}}
  labels:
    {{- include "lizardcd.labels" . | nindent 4 }}
    release: {{ .Release.Name | quote }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    app: {{ $fullName | quote }}
  {{- end }}
{{- end -}}

