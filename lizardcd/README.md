<!--- app-name: Lizardcd -->

# Package for Lizardcd

Lizardcd is a cloud native continuous delivery project, which is a server-agent mode architecture based on go-zero framework . It's composed of lizardcd-server, lizardcd-agent, lizardcd-ui and lizardcd-cli.


# Install Lizardcd service on a Kubernetes cluster

## Prerequisites

- Kubernetes 1.19+
- Helm 3.8.0+
- PV provisioner support in the underlying infrastructure

## Installing the Chart

To install the chart with the release name `my-release`:

```console
helm install my-release oci://REGISTRY_NAME/REPOSITORY_NAME/lizardcd
```

> Note: You need to substitute the placeholders `REGISTRY_NAME` and `REPOSITORY_NAME` with a reference to your Helm chart registry and repository. 

These commands deploy Lizardcd on the Kubernetes cluster in the default configuration. The [Parameters](#parameters) section lists the parameters that can be configured during installation.

> **Tip**: List all releases using `helm list`

## Uninstalling the Chart

To uninstall/delete the `my-release` deployment:

```console
helm uninstall my-release
```

The command removes all the Kubernetes components associated with the chart and deletes the release. Remove also the chart using `--purge` option:

```console
helm uninstall --purge my-release
```

## Parameters

### Global parameters

| Name                      | Description                                     | Value |
| ------------------------- | ----------------------------------------------- | ----- |
| `global.imageRegistry`    | Global Docker image registry                    | `""`  |
| `global.imagePullSecrets` | Global Docker registry secret names as an array | `[]`  |
| `global.storageClass`     | Global StorageClass for Persistent Volume(s)    | `""`  |

### Common parameters

| Name                     | Description                                                                             | Value           |
| ------------------------ | --------------------------------------------------------------------------------------- | --------------- |
| `namespaceOverride`           | String to fully override common.names.namespace                                      | `""`            |
| `commonLabels`           | Labels to add to all deployed objects (sub-charts are not considered)                   | `{}`            |
| `commonAnnotations`      | Annotations to add to all deployed objects (sub-charts are not considered)              | `{}`            |

### Lizardcd-server parameters

| Name                                                             | Description                                                                                                                                                                                                                          | Value                           |
| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| `server.enabled`                                           | server enabled                                                                                                                                                                                                                 | `true`                          |
| `fullnameOverride`                                         | String to fully override lizardcd.server.fullname                                      | `""`            |
| `server.image.registry`                                    | server image registry                                                                                                                                                                                                                                                    | `REGISTRY_NAME`                 |
| `server.image.repository`                                  | server image repository                                                                                                                                                                                                        | `REPOSITORY_NAME/server`  |
| `server.image.pullPolicy`                                  | server image pull policy                                                                                                                                                                                                       | `IfNotPresent`                  |
| `server.image.pullSecrets`                                 | server image pull secrets                                                                                                                                                                                                      | `[]`                            |
| `server.configuration`                                     | server configuration. This content will be stored in the the server.yaml file and the content can be a template.                                                                                                         | `""`                            |
| `server.replicaCount`                                      | Number of server replicas to deploy                                                                                                                                                                                            | `1`                             |
| `server.livenessProbe.enabled`                             | Enable livenessProbe on server containers                                                                                                                                                                                      | `true`                          |
| `server.livenessProbe.initialDelaySeconds`                 | Initial delay seconds for livenessProbe                                                                                                                                                                                              | `30`                             |
| `server.livenessProbe.periodSeconds`                       | Period seconds for livenessProbe                                                                                                                                                                                                     | `30`                            |
| `server.livenessProbe.timeoutSeconds`                      | Timeout seconds for livenessProbe                                                                                                                                                                                                    | `5`                             |
| `server.livenessProbe.failureThreshold`                    | Failure threshold for livenessProbe                                                                                                                                                                                                  | `3`                             |
| `server.livenessProbe.successThreshold`                    | Success threshold for livenessProbe                                                                                                                                                                                                  | `1`                             |
| `server.readinessProbe.enabled`                            | Enable readinessProbe on server containers                                                                                                                                                                                     | `true`                          |
| `server.readinessProbe.initialDelaySeconds`                | Initial delay seconds for readinessProbe                                                                                                                                                                                             | `30`                             |
| `server.readinessProbe.periodSeconds`                      | Period seconds for readinessProbe                                                                                                                                                                                                    | `30`                            |
| `server.readinessProbe.timeoutSeconds`                     | Timeout seconds for readinessProbe                                                                                                                                                                                                   | `5`                             |
| `server.readinessProbe.failureThreshold`                   | Failure threshold for readinessProbe                                                                                                                                                                                                 | `3`                             |
| `server.readinessProbe.successThreshold`                   | Success threshold for readinessProbe                                                                                                                                                                                                 | `1`                             |
| `server.resources`                                         | Set container requests and limits for different resources like CPU or memory (essential for production workloads)                                                                                                                    | `{}`                            |
| `server.podSecurityContext.enabled`                        | Enabled server pods' Security Context                                                                                                                                                                                          | `true`                          |
| `server.podSecurityContext.fsGroupChangePolicy`            | Set filesystem group change policy                                                                                                                                                                                                   | `Always`                        |
| `server.podSecurityContext.sysctls`                        | Set kernel settings using the sysctl interface                                                                                                                                                                                       | `[]`                            |
| `server.podSecurityContext.supplementalGroups`             | Set filesystem extra groups                                                                                                                                                                                                          | `[]`                            |
| `server.podSecurityContext.fsGroup`                        | Set server pod's Security Context fsGroup                                                                                                                                                                                      | `1001`                          |
| `server.containerSecurityContext.enabled`                  | Enabled containers' Security Context                                                                                                                                                                                                 | `true`                          |
| `server.containerSecurityContext.seLinuxOptions`           | Set SELinux options in container                                                                                                                                                                                                     | `nil`                           |
| `server.containerSecurityContext.runAsUser`                | Set containers' Security Context runAsUser                                                                                                                                                                                           | `1001`                          |
| `server.containerSecurityContext.runAsNonRoot`             | Set container's Security Context runAsNonRoot                                                                                                                                                                                        | `true`                          |
| `server.containerSecurityContext.privileged`               | Set container's Security Context privileged                                                                                                                                                                                          | `false`                         |
| `server.containerSecurityContext.readOnlyRootFilesystem`   | Set container's Security Context readOnlyRootFilesystem                                                                                                                                                                              | `false`                         |
| `server.containerSecurityContext.allowPrivilegeEscalation` | Set container's Security Context allowPrivilegeEscalation                                                                                                                                                                            | `false`                         |
| `server.containerSecurityContext.capabilities.drop`        | List of capabilities to be dropped                                                                                                                                                                                                   | `["ALL"]`                       |
| `server.containerSecurityContext.seccompProfile.type`      | Set container's Security Context seccomp profile                                                                                                                                                                                     | `RuntimeDefault`                |
| `server.hostAliases`                                       | server pods host aliases                                                                                                                                                                                                       | `[]`                            |
| `server.podAnnotations`                                    | Annotations for server pods                                                                                                                                                                                                    | `{}`                            |
| `server.affinity`                                          | Affinity for server pods assignment                                                                                                                                                                                            | `{}`                            |
| `server.nodeSelector`                                      | Node labels for server pods assignment                                                                                                                                                                                         | `{}`                            |
| `server.tolerations`                                       | Tolerations for server pods assignment                                                                                                                                                                                         | `[]`                            |
| `server.updateStrategy.type`                               | server statefulset strategy type                                                                                                                                                                                               | `RollingUpdate`                 |
| `server.schedulerName`                                     | Name of the k8s scheduler (other than default) for server pods                                                                                                                                                                 | `""`                            |
| `server.terminationGracePeriodSeconds`                     | Seconds Redmine pod needs to terminate gracefully                                                                                                                                                                                    | `""`                            |
| `server.ingress.enabled`                                   | Enable ingress record generation for server                                                                                                                                                                                    | `false`                         |
| `server.ingress.hostname`                                  | Default host for the ingress record                                                                                                                                                                                                  | `server.prometheus.local` |
| `server.ingress.ClassName`                          | IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)                                                                                                                                                        | `""`                            |
| `server.ingress.annotations`                               | Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.                                                                                                     | `{}`                            |
| `server.ingress.tls`                                       | Enable TLS configuration for the host defined at `ingress.hostname` parameter                                                                                                                                                        | `false`                         |
| `server.ingress.hosts`                                | The host of lizardcd service in ingress rule record                                                                                                                                                                              | `[]`                            |
| `server.serviceAccount.create`                             | Specifies whether a ServiceAccount should be created                                                                                                                                                                                 | `true`                          |
| `server.serviceAccount.name`                               | The name of the ServiceAccount to use.                                                                                                                                                                                               | `""`                            |
| `server.serviceAccount.annotations`                        | Additional Service Account annotations (evaluated as a template)                                                                                                                                                                     | `{}`                            |
| `server.serviceAccount.automountServiceAccountToken`       | Automount service account token for the server service account                                                                                                                                                                       | `false`                         |
| `server.service.type`                                      | server service type                                                                                                                                                                                                            | `LoadBalancer`                  |
| `server.service.ports.http`                                | server service HTTP port                                                                                                                                                                                                       | `80`                            |
| `server.service.ports.cluster`                             | server cluster HA port                                                                                                                                                                                                         | `9094`                          |
| `server.service.nodePorts.http`                            | Node port for HTTP                                                                                                                                                                                                                   | `""`                            |
| `server.service.clusterIP`                                 | server service Cluster IP                                                                                                                                                                                                      | `""`                            |
| `server.service.loadBalancerIP`                            | server service Load Balancer IP                                                                                                                                                                                                | `""`                            |
| `server.service.loadBalancerClass`                         | server service Load Balancer class if service type is `LoadBalancer` (optional, cloud specific)                                                                                                                                | `""`                            |
| `server.service.loadBalancerSourceRanges`                  | server service Load Balancer sources                                                                                                                                                                                           | `[]`                            |
| `server.service.externalTrafficPolicy`                     | server service external traffic policy                                                                                                                                                                                         | `Cluster`                       |
| `server.service.annotations`                               | Additional custom annotations for server service                                                                                                                                                                               | `{}`                            |
| `server.service.extraPorts`                                | Extra ports to expose in server service (normally used with the `sidecars` value)                                                                                                                                              | `[]`                            |
| `server.service.sessionAffinity`                           | Control where client requests go, to the same pod or round-robin                                                                                                                                                                     | `None`                          |
| `server.service.sessionAffinityConfig`                     | Additional settings for the sessionAffinity                                                                                                                                                                                          | `{}`                            |
### agent parameters

| Name                                                             | Description                                                                                                                                                                                                                          | Value                           |
| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| `agent.enabled`                                           | agent enabled                                                                                                                                                                                                                 | `true`                          |
| `agent.fullnameOverride`           | String to fully override lizardcd.agent.fullname                                      | `""`            |
| `agent.image.registry`                                    | agent image registry                                                                                                                                                                                                          | `REGISTRY_NAME`                 |
| `agent.image.repository`                                  | agent image repository                                                                                                                                                                                                        | `REPOSITORY_NAME/agent`  |
| `agent.image.pullPolicy`                                  | agent image pull policy                                                                                                                                                                                                       | `IfNotPresent`                  |
| `agent.image.pullSecrets`                                 | agent image pull secrets                                                                                                                                                                                                      | `[]`                            |
| `agent.configuration`                                     | agent configuration. This content will be stored in the the agent.yaml file and the content can be a template.                                                                                                         | `""`                            |
| `agent.replicaCount`                                      | Number of agent replicas to deploy                                                                                                                                                                                            | `1`                             |
| `agent.livenessProbe.enabled`                             | Enable livenessProbe on agent containers                                                                                                                                                                                      | `true`                          |
| `agent.livenessProbe.initialDelaySeconds`                 | Initial delay seconds for livenessProbe                                                                                                                                                                                              | `30`                             |
| `agent.livenessProbe.periodSeconds`                       | Period seconds for livenessProbe                                                                                                                                                                                                     | `30`                            |
| `agent.livenessProbe.timeoutSeconds`                      | Timeout seconds for livenessProbe                                                                                                                                                                                                    | `5`                             |
| `agent.livenessProbe.failureThreshold`                    | Failure threshold for livenessProbe                                                                                                                                                                                                  | `3`                             |
| `agent.livenessProbe.successThreshold`                    | Success threshold for livenessProbe                                                                                                                                                                                                  | `1`                             |
| `agent.readinessProbe.enabled`                            | Enable readinessProbe on agent containers                                                                                                                                                                                     | `true`                          |
| `agent.readinessProbe.initialDelaySeconds`                | Initial delay seconds for readinessProbe                                                                                                                                                                                             | `30`                             |
| `agent.readinessProbe.periodSeconds`                      | Period seconds for readinessProbe                                                                                                                                                                                                    | `30`                            |
| `agent.readinessProbe.timeoutSeconds`                     | Timeout seconds for readinessProbe                                                                                                                                                                                                   | `5`                             |
| `agent.readinessProbe.failureThreshold`                   | Failure threshold for readinessProbe                                                                                                                                                                                                 | `3`                             |
| `agent.readinessProbe.successThreshold`                   | Success threshold for readinessProbe                                                                                                                                                                                                 | `1`                             |
| `agent.resources`                                         | Set container requests and limits for different resources like CPU or memory (essential for production workloads)                                                                                                                    | `{}`                            |
| `agent.podSecurityContext.enabled`                        | Enabled agent pods' Security Context                                                                                                                                                                                          | `true`                          |
| `agent.podSecurityContext.fsGroupChangePolicy`            | Set filesystem group change policy                                                                                                                                                                                                   | `Always`                        |
| `agent.podSecurityContext.sysctls`                        | Set kernel settings using the sysctl interface                                                                                                                                                                                       | `[]`                            |
| `agent.podSecurityContext.supplementalGroups`             | Set filesystem extra groups                                                                                                                                                                                                          | `[]`                            |
| `agent.podSecurityContext.fsGroup`                        | Set agent pod's Security Context fsGroup                                                                                                                                                                                      | `1001`                          |
| `agent.containerSecurityContext.enabled`                  | Enabled containers' Security Context                                                                                                                                                                                                 | `true`                          |
| `agent.containerSecurityContext.seLinuxOptions`           | Set SELinux options in container                                                                                                                                                                                                     | `nil`                           |
| `agent.containerSecurityContext.runAsUser`                | Set containers' Security Context runAsUser                                                                                                                                                                                           | `1001`                          |
| `agent.containerSecurityContext.runAsNonRoot`             | Set container's Security Context runAsNonRoot                                                                                                                                                                                        | `true`                          |
| `agent.containerSecurityContext.privileged`               | Set container's Security Context privileged                                                                                                                                                                                          | `false`                         |
| `agent.containerSecurityContext.readOnlyRootFilesystem`   | Set container's Security Context readOnlyRootFilesystem                                                                                                                                                                              | `false`                         |
| `agent.containerSecurityContext.allowPrivilegeEscalation` | Set container's Security Context allowPrivilegeEscalation                                                                                                                                                                            | `false`                         |
| `agent.containerSecurityContext.capabilities.drop`        | List of capabilities to be dropped                                                                                                                                                                                                   | `["ALL"]`                       |
| `agent.containerSecurityContext.seccompProfile.type`      | Set container's Security Context seccomp profile                                                                                                                                                                                     | `RuntimeDefault`                |
| `agent.hostAliases`                                       | agent pods host aliases                                                                                                                                                                                                       | `[]`                            |
| `agent.podAnnotations`                                    | Annotations for agent pods                                                                                                                                                                                                    | `{}`                            |
| `agent.affinity`                                          | Affinity for agent pods assignment                                                                                                                                                                                            | `{}`                            |
| `agent.nodeSelector`                                      | Node labels for agent pods assignment                                                                                                                                                                                         | `{}`                            |
| `agent.tolerations`                                       | Tolerations for agent pods assignment                                                                                                                                                                                         | `[]`                            |
| `agent.updateStrategy.type`                               | agent statefulset strategy type                                                                                                                                                                                               | `RollingUpdate`                 |
| `agent.schedulerName`                                     | Name of the k8s scheduler (other than default) for agent pods                                                                                                                                                                 | `""`                            |
| `agent.terminationGracePeriodSeconds`                     | Seconds Redmine pod needs to terminate gracefully                                                                                                                                                                                    | `""`                            |
| `agent.ingress.enabled`                                   | Enable ingress record generation for agent                                                                                                                                                                                    | `false`                         |
| `agent.ingress.hostname`                                  | Default host for the ingress record                                                                                                                                                                                                  | `agent.prometheus.local` |
| `agent.ingress.ClassName`                          | IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)                                                                                                                                                        | `""`                            |
| `agent.ingress.annotations`                               | Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.                                                                                                     | `{}`                            |
| `agent.ingress.tls`                                       | Enable TLS configuration for the host defined at `ingress.hostname` parameter                                                                                                                                                        | `false`                         |
| `agent.ingress.hosts`                                | The host of lizardcd service in ingress rule record                                                                                                                                                                              | `[]`                            |
| `agent.serviceAccount.create`                             | Specifies whether a ServiceAccount should be created                                                                                                                                                                                 | `true`                          |
| `agent.serviceAccount.name`                               | The name of the ServiceAccount to use.                                                                                                                                                                                               | `""`                            |
| `agent.serviceAccount.annotations`                        | Additional Service Account annotations (evaluated as a template)                                                                                                                                                                     | `{}`                            |
| `agent.serviceAccount.automountServiceAccountToken`       | Automount service account token for the agent service account                                                                                                                                                                       | `false`                         |
| `agent.service.type`                                      | agent service type                                                                                                                                                                                                            | `LoadBalancer`                  |
| `agent.service.ports.http`                                | agent service HTTP port                                                                                                                                                                                                       | `80`                            |
| `agent.service.ports.cluster`                             | agent cluster HA port                                                                                                                                                                                                         | `9094`                          |
| `agent.service.nodePorts.http`                            | Node port for HTTP                                                                                                                                                                                                                   | `""`                            |
| `agent.service.clusterIP`                                 | agent service Cluster IP                                                                                                                                                                                                      | `""`                            |
| `agent.service.loadBalancerIP`                            | agent service Load Balancer IP                                                                                                                                                                                                | `""`                            |
| `agent.service.loadBalancerClass`                         | agent service Load Balancer class if service type is `LoadBalancer` (optional, cloud specific)                                                                                                                                | `""`                            |
| `agent.service.loadBalancerSourceRanges`                  | agent service Load Balancer sources                                                                                                                                                                                           | `[]`                            |
| `agent.service.externalTrafficPolicy`                     | agent service external traffic policy                                                                                                                                                                                         | `Cluster`                       |
| `agent.service.annotations`                               | Additional custom annotations for agent service                                                                                                                                                                               | `{}`                            |
| `agent.service.extraPorts`                                | Extra ports to expose in agent service (normally used with the `sidecars` value)                                                                                                                                              | `[]`                            |
| `agent.service.sessionAffinity`                           | Control where client requests go, to the same pod or round-robin                                                                                                                                                                     | `None`                          |
| `agent.service.sessionAffinityConfig`                     | Additional settings for the sessionAffinity                                                                                                                                                                                         | `{}`                            |
| `agent.clusterName`                     | Specify the name of the cluster where the agent resides                                                                                                                                                                                      | `""`                            |

### Ui parameters

| Name                                                             | Description                                                                                                                                                                                                                          | Value                           |
| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| `ui.enabled`                                           | ui enabled                                                                                                                                                                                                                 | `true`                          |
| `ui.fullnameOverride`           | String to fully override lizardcd.ui.fullname                                      | `""`            |
| `ui.image.registry`                                    | ui image registry                                                                                                                                                                                                          | `REGISTRY_NAME`                 |
| `ui.image.repository`                                  | ui image repository                                                                                                                                                                                                        | `REPOSITORY_NAME/ui`  |
| `ui.image.pullPolicy`                                  | ui image pull policy                                                                                                                                                                                                       | `IfNotPresent`                  |
| `ui.image.pullSecrets`                                 | ui image pull secrets                                                                                                                                                                                                      | `[]`                            |
| `ui.configuration`                                     | ui configuration. This content will be stored in the the ui.yaml file and the content can be a template.                                                                                                         | `""`                            |
| `ui.replicaCount`                                      | Number of ui replicas to deploy                                                                                                                                                                                            | `1`                             |
| `ui.livenessProbe.enabled`                             | Enable livenessProbe on ui containers                                                                                                                                                                                      | `true`                          |
| `ui.livenessProbe.initialDelaySeconds`                 | Initial delay seconds for livenessProbe                                                                                                                                                                                              | `30`                             |
| `ui.livenessProbe.periodSeconds`                       | Period seconds for livenessProbe                                                                                                                                                                                                     | `30`                            |
| `ui.livenessProbe.timeoutSeconds`                      | Timeout seconds for livenessProbe                                                                                                                                                                                                    | `5`                             |
| `ui.livenessProbe.failureThreshold`                    | Failure threshold for livenessProbe                                                                                                                                                                                                  | `3`                             |
| `ui.livenessProbe.successThreshold`                    | Success threshold for livenessProbe                                                                                                                                                                                                  | `1`                             |
| `ui.readinessProbe.enabled`                            | Enable readinessProbe on ui containers                                                                                                                                                                                     | `true`                          |
| `ui.readinessProbe.initialDelaySeconds`                | Initial delay seconds for readinessProbe                                                                                                                                                                                             | `30`                             |
| `ui.readinessProbe.periodSeconds`                      | Period seconds for readinessProbe                                                                                                                                                                                                    | `30`                            |
| `ui.readinessProbe.timeoutSeconds`                     | Timeout seconds for readinessProbe                                                                                                                                                                                                   | `5`                             |
| `ui.readinessProbe.failureThreshold`                   | Failure threshold for readinessProbe                                                                                                                                                                                                 | `3`                             |
| `ui.readinessProbe.successThreshold`                   | Success threshold for readinessProbe                                                                                                                                                                                                 | `1`                             |
| `ui.resources`                                         | Set container requests and limits for different resources like CPU or memory (essential for production workloads)                                                                                                                    | `{}`                            |
| `ui.podSecurityContext.enabled`                        | Enabled ui pods' Security Context                                                                                                                                                                                          | `true`                          |
| `ui.podSecurityContext.fsGroupChangePolicy`            | Set filesystem group change policy                                                                                                                                                                                                   | `Always`                        |
| `ui.podSecurityContext.sysctls`                        | Set kernel settings using the sysctl interface                                                                                                                                                                                       | `[]`                            |
| `ui.podSecurityContext.supplementalGroups`             | Set filesystem extra groups                                                                                                                                                                                                          | `[]`                            |
| `ui.podSecurityContext.fsGroup`                        | Set ui pod's Security Context fsGroup                                                                                                                                                                                      | `1001`                          |
| `ui.containerSecurityContext.enabled`                  | Enabled containers' Security Context                                                                                                                                                                                                 | `true`                          |
| `ui.containerSecurityContext.seLinuxOptions`           | Set SELinux options in container                                                                                                                                                                                                     | `nil`                           |
| `ui.containerSecurityContext.runAsUser`                | Set containers' Security Context runAsUser                                                                                                                                                                                           | `1001`                          |
| `ui.containerSecurityContext.runAsNonRoot`             | Set container's Security Context runAsNonRoot                                                                                                                                                                                        | `true`                          |
| `ui.containerSecurityContext.privileged`               | Set container's Security Context privileged                                                                                                                                                                                          | `false`                         |
| `ui.containerSecurityContext.readOnlyRootFilesystem`   | Set container's Security Context readOnlyRootFilesystem                                                                                                                                                                              | `false`                         |
| `ui.containerSecurityContext.allowPrivilegeEscalation` | Set container's Security Context allowPrivilegeEscalation                                                                                                                                                                            | `false`                         |
| `ui.containerSecurityContext.capabilities.drop`        | List of capabilities to be dropped                                                                                                                                                                                                   | `["ALL"]`                       |
| `ui.containerSecurityContext.seccompProfile.type`      | Set container's Security Context seccomp profile                                                                                                                                                                                     | `RuntimeDefault`                |
| `ui.hostAliases`                                       | ui pods host aliases                                                                                                                                                                                                       | `[]`                            |
| `ui.podAnnotations`                                    | Annotations for ui pods                                                                                                                                                                                                    | `{}`                            |
| `ui.affinity`                                          | Affinity for ui pods assignment                                                                                                                                                                                            | `{}`                            |
| `ui.nodeSelector`                                      | Node labels for ui pods assignment                                                                                                                                                                                         | `{}`                            |
| `ui.tolerations`                                       | Tolerations for ui pods assignment                                                                                                                                                                                         | `[]`                            |
| `ui.updateStrategy.type`                               | ui statefulset strategy type                                                                                                                                                                                               | `RollingUpdate`                 |
| `ui.schedulerName`                                     | Name of the k8s scheduler (other than default) for ui pods                                                                                                                                                                 | `""`                            |
| `ui.terminationGracePeriodSeconds`                     | Seconds Redmine pod needs to terminate gracefully                                                                                                                                                                                    | `""`                            |
| `ui.ingress.enabled`                                   | Enable ingress record generation for ui                                                                                                                                                                                    | `false`                         |
| `ui.ingress.hostname`                                  | Default host for the ingress record                                                                                                                                                                                                  | `ui.prometheus.local` |
| `ui.ingress.ClassName`                          | IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)                                                                                                                                                        | `""`                            |
| `ui.ingress.annotations`                               | Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.                                                                                                     | `{}`                            |
| `ui.ingress.tls`                                       | Enable TLS configuration for the host defined at `ingress.hostname` parameter                                                                                                                                                        | `false`                         |
| `ui.ingress.hosts`                                | The host of lizardcd service in ingress rule record                                                                                                                                                                              | `[]`                            |
| `ui.serviceAccount.create`                             | Specifies whether a ServiceAccount should be created                                                                                                                                                                                 | `true`                          |
| `ui.serviceAccount.name`                               | The name of the ServiceAccount to use.                                                                                                                                                                                               | `""`                            |
| `ui.serviceAccount.annotations`                        | Additional Service Account annotations (evaluated as a template)                                                                                                                                                                     | `{}`                            |
| `ui.serviceAccount.automountServiceAccountToken`       | Automount service account token for the ui service account                                                                                                                                                                       | `false`                         |
| `ui.service.type`                                      | ui service type                                                                                                                                                                                                            | `LoadBalancer`                  |
| `ui.service.ports.http`                                | ui service HTTP port                                                                                                                                                                                                       | `80`                            |
| `ui.service.ports.cluster`                             | ui cluster HA port                                                                                                                                                                                                         | `9094`                          |
| `ui.service.nodePorts.http`                            | Node port for HTTP                                                                                                                                                                                                                   | `""`                            |
| `ui.service.clusterIP`                                 | ui service Cluster IP                                                                                                                                                                                                      | `""`                            |
| `ui.service.loadBalancerIP`                            | ui service Load Balancer IP                                                                                                                                                                                                | `""`                            |
| `ui.service.loadBalancerClass`                         | ui service Load Balancer class if service type is `LoadBalancer` (optional, cloud specific)                                                                                                                                | `""`                            |
| `ui.service.loadBalancerSourceRanges`                  | ui service Load Balancer sources                                                                                                                                                                                           | `[]`                            |
| `ui.service.externalTrafficPolicy`                     | ui service external traffic policy                                                                                                                                                                                         | `Cluster`                       |
| `ui.service.annotations`                               | Additional custom annotations for ui service                                                                                                                                                                               | `{}`                            |
| `ui.service.extraPorts`                                | Extra ports to expose in ui service (normally used with the `sidecars` value)                                                                                                                                              | `[]`                            |
| `ui.service.sessionAffinity`                           | Control where client requests go, to the same pod or round-robin                                                                                                                                                                     | `None`                          |
| `ui.service.sessionAffinityConfig`                     | Additional settings for the sessionAffinity                                                                                                                                                                                          | `{}`                            |

| `externalServer.server` | specific external lizardcd server to use | `""`   |
| `externalServer.port`    | Port of the lizardcd servers             | `5117` |

### initJob parameters

| Name                                                             | Description                                                                                                                                                                                                                          | Value                           |
| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| `initJob.image.registry`                                    | initJob image registry                                                                                                                                                                                                          | `REGISTRY_NAME`                 |
| `initJob.image.repository`                                  | initJob image repository                                                                                                                                                                                                        | `REPOSITORY_NAME/initJob`  |
| `initJob.image.pullPolicy`                                  | initJob image pull policy                                                                                                                                                                                                       | `IfNotPresent`                  |
| `initJob.image.pullSecrets`                                 | initJob image pull secrets                                                                                                                                                                                                      | `[]`                            |
| `fullnameOverride`           | String to fully override lizardcd.initJob.fullname                                      | `""`            |
| `initJob.setup.backoffLimit`                                     | Specifies the number of job retries                                                                                                         | `3`                            |
| `initJob.persistence.storageClass`                             | Persistent Volume Storage Class                                                                                                                                                                                      | `""`                          |
| `initJob.persistence.existingClaim`                 | Existing Persistent Volume Claim                                                                                                                                                                                              | `""`                             |
| `initJob.persistence.annotations`                       | Persistent Volume Claim annotations                                                                                                                                                                                                     | `{}`                            |
| `initJob.persistence.accessModes`                      | Persistent Volume Access Modes                                                                                                                                                                                                    | `["ReadWriteMany"]`                             |
| `initJob.persistence.size`                    | Persistent Volume Size                                                                                                                                                                                                  | `8Gi`                             |
| `initJob.serviceAccount.create`                             | Specifies whether a ServiceAccount should be created                                                                                                                                                                                 | `true`                          |
| `initJob.serviceAccount.name`                               | The name of the ServiceAccount to use.                                                                                                                                                                                               | `""`                            |
| `initJob.serviceAccount.annotations`                        | Additional Service Account annotations (evaluated as a template)                                                                                                                                                                     | `{}`                            |
| `initJob.serviceAccount.automountServiceAccountToken`       | Automount service account token for the ui service account                                                                                                                                                                       | `false`                         |
### External consul paramaters

| Name                        | Description                               | Value  |
| --------------------------- | ----------------------------------------- | ------ |
| `externalConsul.consul_host` | specificexternal consul servers to use | `""`   |

### Consul subchart parameters

| Name                             | Description                   | Value                       |
| -------------------------------- | ----------------------------- | --------------------------- |
| `consul.enabled`              | Deploy Consul subchart     | `true`                      |
| `consul.replicaCount`         | Number of Consul instances | `3`                         |
| `consul.service.ports.http`   | Consul client port         | `80`                        |
| `consul.image.registry`       | Consul image registry      | `REGISTRY_NAME`             |
| `consul.image.repository`     | Consul image repository    | `REPOSITORY_NAME/consul`    |
| `consul.image.pullPolicy`     | Consul image pull policy   | `IfNotPresent`              |
| `consul.persistence.enabled`  | Enable persistence using Persistent Volume Claims   | `true`              |
| `consul.persistence.storageclass`     | Storage class of backing PVC   | `""`              |
| `consul.persistence.accessModes`     | Persistent Volume Access Modes   | ["ReadWriteOnce"]              |
| `consul.persistence.size`     | Size of data volume   | 8Gi              |


